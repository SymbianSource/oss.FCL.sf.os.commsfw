//
// Copyright (c) 2009 Nokia Corporation and/or its subsidiary(-ies).
// All rights reserved.
// This component and the accompanying materials are made available
// under the terms of "Eclipse Public License v1.0"
// which accompanies this distribution, and is available
// at the URL "http://www.eclipse.org/legal/epl-v10.html".
//
// Initial Contributors:
// Nokia Corporation - initial contribution.
//
// Contributors:
//
// Description: 
//
//! @file
//! @SYMTestSuiteName COMINF-ELEMENTS-STATEMACHINE

PRINT Load Suites
LOAD_SUITE TE_ElementServer

PRINT Start tests

START_TESTCASE COMINF-ELEMENTS-STATEMACHINE-0101
//! @SYMTestCaseID COMINF-ELEMENTS-STATEMACHINE-0101
//! @SYMTestCaseDesc    Functional: Tests that the history member of a state machine can be set and retreived correctly
//! @SYMTestActions    Use CStateMachine::UpdateHistory and CStateMachine::History
//! @SYMTestExpectedResults    pass
//! @SYMTestPriority    Critical 
//! @SYMTestType     CT
//! @SYMComponent    commselements

RUN_TEST_STEP 100 TE_ElementServer ElementStateMachineStep0101 z:\testdata\configs\StateMachine\StateMachine.ini

END_TESTCASE COMINF-ELEMENTS-STATEMACHINE-0101

START_TESTCASE COMINF-ELEMENTS-STATEMACHINE-0102
//! @SYMTestCaseID COMINF-ELEMENTS-STATEMACHINE-0102
//! @SYMTestCaseDesc    Functional: Tests setting and retreiving the iLastError member
//! @SYMTestActions    Use CStateMachine::SetLastError and CStateMachine::LastError
//! @SYMTestExpectedResults    pass
//! @SYMTestPriority    Critical 
//! @SYMTestType     CT
//! @SYMComponent    commselements

RUN_TEST_STEP 100 TE_ElementServer ElementStateMachineStep0102 z:\testdata\configs\StateMachine\StateMachine.ini

END_TESTCASE COMINF-ELEMENTS-STATEMACHINE-0102

START_TESTCASE COMINF-ELEMENTS-STATEMACHINE-0103
//! @SYMTestCaseID COMINF-ELEMENTS-STATEMACHINE-0103
//! @SYMTestCaseDesc    Functional: Tests setting and retreiving the iSuspendRequest member
//! @SYMTestActions    Use CStateMachine::SetSuspendRequest and CStateMachine::SuspendRequest
//! @SYMTestExpectedResults    pass
//! @SYMTestPriority    Critical 
//! @SYMTestType     CT
//! @SYMComponent    commselements

RUN_TEST_STEP 100 TE_ElementServer ElementStateMachineStep0103

END_TESTCASE COMINF-ELEMENTS-STATEMACHINE-0103




START_TESTCASE COMINF-ELEMENTS-STATEMACHINE-0104
//! @SYMTestCaseID COMINF-ELEMENTS-STATEMACHINE-0104
//! @SYMTestCaseDesc    Functional: Tests getting and setting the iFragment member
//! @SYMTestActions    Use CStateMachine::ReAllocL and CStateMachine::Fragment
//! @SYMTestExpectedResults    pass
//! @SYMTestPriority    Critical 
//! @SYMTestType     CT
//! @SYMComponent    commselements

RUN_TEST_STEP 100 TE_ElementServer ElementStateMachineStep0104 z:\testdata\configs\StateMachine\StateMachine.ini

END_TESTCASE COMINF-ELEMENTS-STATEMACHINE-0104

START_TESTCASE COMINF-ELEMENTS-STATEMACHINE-0105
//! @SYMTestCaseID COMINF-ELEMENTS-STATEMACHINE-0105
//! @SYMTestCaseDesc    Functional: Tests state machine notifier member can be registered and deregistered
//! @SYMTestActions    Use CStateMachine::RegisterNotify and CStateMachine::DeRegisterNotify
//! @SYMTestExpectedResults    pass
//! @SYMTestPriority    Critical 
//! @SYMTestType     CT
//! @SYMComponent    commselements

RUN_TEST_STEP 100 TE_ElementServer ElementStateMachineStep0105

END_TESTCASE COMINF-ELEMENTS-STATEMACHINE-0105




START_TESTCASE COMINF-ELEMENTS-STATEMACHINE-0201
//! @SYMTestCaseID COMINF-ELEMENTS-STATEMACHINE-0201
//! @SYMTestCaseDesc    Functional: Tests running a state machine
//! @SYMTestActions    Use CStateMachine::Start, CStateMachine::SetActiveEvent and runs CStateMachine::RunL
//! @SYMTestExpectedResults    pass
//! @SYMTestPriority    Critical 
//! @SYMTestType     CT
//! @SYMComponent    commselements

RUN_TEST_STEP 100 TE_ElementServer ElementStateMachineStep0201

END_TESTCASE COMINF-ELEMENTS-STATEMACHINE-0201



START_TESTCASE COMINF-ELEMENTS-STATEMACHINE-0202
//! @SYMTestCaseID COMINF-ELEMENTS-STATEMACHINE-0202
//! @SYMTestCaseDesc    Functional: Tests controling a state machine by setting and receiving the client status
//! @SYMTestActions    Use CStateMachine::SetClientStatus, CStateMachine:: ClientStatus, CStateMachine::Start, CStateMachine::SetActiveEvent
//! @SYMTestExpectedResults    pass
//! @SYMTestPriority    Critical 
//! @SYMTestType     CT
//! @SYMComponent    commselements

RUN_TEST_STEP 100 TE_ElementServer ElementStateMachineStep0202

END_TESTCASE COMINF-ELEMENTS-STATEMACHINE-0202




START_TESTCASE COMINF-ELEMENTS-STATEMACHINE-0203
//! @SYMTestCaseID COMINF-ELEMENTS-STATEMACHINE-0203
//! @SYMTestCaseDesc    Functional: Tests that the state machine handles error events upon an active event leaving in ProcessL
//! @SYMTestActions    Use CStateMachine::Start, CStateMachine::SetActiveEvent, CStateMachine::LastError
//! @SYMTestExpectedResults    pass
//! @SYMTestPriority    Critical 
//! @SYMTestType     CT
//! @SYMComponent    commselements

RUN_TEST_STEP 100 TE_ElementServer ElementStateMachineStep0203

END_TESTCASE COMINF-ELEMENTS-STATEMACHINE-0203




START_TESTCASE COMINF-ELEMENTS-STATEMACHINE-0204
//! @SYMTestCaseID COMINF-ELEMENTS-STATEMACHINE-0204
//! @SYMTestCaseDesc    Functional: Tests that the state machine sets and runs an error event if an active event returns an error
//! @SYMTestActions    Use CStateMachine::Start, CStateMachine::SetActiveEvent, CStateMachine::SetErrorEvent, CStateMachine::LastError
//! @SYMTestExpectedResults    pass
//! @SYMTestPriority    Critical 
//! @SYMTestType     CT
//! @SYMComponent    commselements

RUN_TEST_STEP 100 TE_ElementServer ElementStateMachineStep0204

END_TESTCASE COMINF-ELEMENTS-STATEMACHINE-0204




START_TESTCASE COMINF-ELEMENTS-STATEMACHINE-0205
//! @SYMTestCaseID COMINF-ELEMENTS-STATEMACHINE-0205
//! @SYMTestCaseDesc    Functional: Tests that the state machine responds to retrospective errors being set in the async event
//! @SYMTestActions    Use CStateMachine::Start, CStateMachine::SetActiveEvent, CStateMachine::SetErrorEvent, CStateMachine::LastError
//! @SYMTestExpectedResults    pass
//! @SYMTestPriority    Critical 
//! @SYMTestType     CT
//! @SYMComponent    commselements

RUN_TEST_STEP 100 TE_ElementServer ElementStateMachineStep0205

END_TESTCASE COMINF-ELEMENTS-STATEMACHINE-0205




START_TESTCASE COMINF-ELEMENTS-STATEMACHINE-0206
//! @SYMTestCaseID COMINF-ELEMENTS-STATEMACHINE-0206
//! @SYMTestCaseDesc    Functional: Tests cancelling the state machine with no error
//! @SYMTestActions    Use CStateMachine::Start, CStateMachine::SetActiveEvent, CStateMachine::Cancel, CStateMachine::DoCancel
//! @SYMTestExpectedResults    pass
//! @SYMTestPriority    Critical 
//! @SYMTestType     CT
//! @SYMComponent    commselements

RUN_TEST_STEP 100 TE_ElementServer ElementStateMachineStep0206

END_TESTCASE COMINF-ELEMENTS-STATEMACHINE-0206





START_TESTCASE COMINF-ELEMENTS-STATEMACHINE-0207
//! @SYMTestCaseID COMINF-ELEMENTS-STATEMACHINE-0207
//! @SYMTestCaseDesc    Functional: Tests cancelling the state machine with an error
//! @SYMTestActions    Use CStateMachine::Start, CStateMachine::SetActiveEvent, CStateMachine::Cancel, CStateMachine::DoCancel
//! @SYMTestExpectedResults    pass
//! @SYMTestPriority    Critical 
//! @SYMTestType     CT
//! @SYMComponent    commselements

RUN_TEST_STEP 100 TE_ElementServer ElementStateMachineStep0207

END_TESTCASE COMINF-ELEMENTS-STATEMACHINE-0207




START_TESTCASE COMINF-ELEMENTS-STATEMACHINE-0208
//! @SYMTestCaseID COMINF-ELEMENTS-STATEMACHINE-0208
//! @SYMTestCaseDesc    Functional: Tests suspending and restarting the state machine
//! @SYMTestActions    Use CStateMachine::Start, CStateMachine::SetActiveEvent
//! @SYMTestExpectedResults    pass
//! @SYMTestPriority    Critical 
//! @SYMTestType     CT
//! @SYMComponent    commselements

RUN_TEST_STEP 100 TE_ElementServer ElementStateMachineStep0208

END_TESTCASE COMINF-ELEMENTS-STATEMACHINE-0208

PRINT Completed Test